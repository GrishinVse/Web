<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Быстрый старт. Размещение интерактивной карты на странице</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="https://api-maps.yandex.ru/2.1/?apikey=7d0e27ec-26b2-47fb-be9a-03f20df0d3e2&lang=ru_RU"
        type="text/javascript">
        </script>
    <script type="text/javascript">
        var myMap;
        var myRoute;


        ymaps.ready(init);
        function init() {
            myMap = new ymaps.Map("map", {
                //center: [55.76, 37.64], 
                center: [55.15, 61.40],
                zoom: 11,
                controls: ['zoomControl', 'typeSelector']
            });
        }

        function makeRoute(pointFrom, pointTo, modeRoute) {
            myRoute = new ymaps.multiRouter.MultiRoute({
                // Точки маршрута. Точки могут быть заданы как координатами, так и адресом. 
                referencePoints: [pointFrom, pointTo],
                params: {
                    avoidTrafficJams : true,
                    routingMode: modeRoute
                }
            }, {
                
                // Внешний вид линии маршрута.
                routeStrokeWidth: 2,
                routeStrokeColor: "#2c4e29",
                // Внешний вид линии активного маршрута
                routeActiveStrokeWidth: 6,
                //routeActiveStrokeStile: 'solid',
                routeActiveStrokeColor: "#35a42c",

                // Автоматически устанавливать границы карты так,
                // чтобы маршрут был виден целиком.
                boundsAutoApply: true,
            });

            // Добавление маршрута на карту.
            myMap.geoObjects.add(myRoute);

            myRoute.model.events.add('requestsuccess', function() {
                var activeRoute = myRoute.getActiveRoute();
                // Выводит в консоль информацию
                console.log("Distance = " + activeRoute.properties.get("distance").text);
                console.log("Duration = " + activeRoute.properties.get("duration").text);
            });

        }

        function clearMap() {
            myMap.geoObjects.removeAll();
            myRoute && myMap.geoObjects.remove(myRoute);
        }
        //
    </script>
    <style>
        html {
            height: 100%;
        }

        body {
            height: 80%;
            margin: 0;
        }
    </style>
</head>

<body>
    <input id="start_point" type="text" placeholder="Адрес начальной точки" value="Челябинск, Академика Королёва, 5">
    <input id="end_point" type="text" placeholder="Адрес конечной точки" value="Челябинск, Цвиллинга, 31">
    <p><select id="route_mode" size="1">
        <option selected value="driving">Автомобильный маршрут</option>
        <option value="pedestrian">Пешеходный маршрут</option>
        <option value="masstransit">Маршрут на общественном транспорте</option>
        <option value="bicycle">Маршрут на велосипеде</option>
    </select>
    <div id="map" style="width: 100%; height: 100%"></div>
    <input type="button" value="Построить маршрут" onclick="makeRoute(document.getElementById('start_point').value,
        document.getElementById('end_point').value, document.getElementById('route_mode').value)">
    
    <input type="button" value="Очистить карту" onclick="clearMap()">
</body>

</html>